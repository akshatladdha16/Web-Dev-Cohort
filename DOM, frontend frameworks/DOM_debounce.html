<!DOCTYPE html>
<br lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
//  concept of debouncing : delayed semding of request(for eg. search algo of any webpage gives results based on keys being typed not when it gets completely stopped. so to avoid sending request and wait for a brief second to  finish entering input we use debouncing concept) its doen to reduce unneccsary calls to BE-->
    let timeout;
    function debouncedPopulatedDiv(){   
        clearTimeout(timeout);//used to cancel the clock
        timeout=setTimeout(function(){
            populatediv2();
        },1000); //very simple debouncing function to delay request to BE for 1000 ms if not callled or been called atleaset once
    }
    async function populatediv2(){
        const a=document.getElementById("firstno").value
        const b=document.getElementById("secondno").value
        const response=await fetch("https://sum-server.100xdevs.com/sum?a="+a+"&b="+b);
        const finaldata=await response.text()
        document.getElementById('finalsum').innerHTML=finaldata;
    }
</script>
<body>
    <input oninput="debouncedPopulatedDiv()" type="text" id="firstno" placeholder="enter first number"><br></br>
    <input oninput="debouncedPopulatedDiv()" type="text" id="secondno" placeholder="enter second number"><br></br>
    <!-- <button onclick="populatediv2()">Check Sum</button><br></br> getting rid of button to understand debouncing concept  -->

    <!-- actually calculating the sum and rendering it on screen is called website being dynamic -->
    <!-- classes and ids : classes lets you get rid of code repetition while ids lets u connect DOM API access to elements on webste using IDs -->
    <div id="finalsum"></div>
</body>
</html>

